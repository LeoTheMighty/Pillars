{"version":3,"sources":["api/UserStorage.js","redux/store.js","redux/actions/userActions.js","redux/typeConstants.js","redux/reducers/userReducer.js","redux/reducers/flowReducer.js","redux/middleware/AsyncDispatchMiddleware.js","redux/middleware/PromisifyMiddleware.js","logic/TimeHelper.js","logic/PillarHelper.js","components/PillarView.js","components/AllPillarsView.js","components/PillarCreator.js","layout/PillarsHeaderView.js","redux/actions/flowActions.js","layout/MainView.js","layout/SplashScreen.js","logic/PillarsUserHelper.js","App.js","serviceWorker.js","index.js","img/pillars.png"],"names":["UserStorage","userJSON","localStorage","getItem","storageKey","JSON","parse","user","setItem","stringify","middleware","saveUserToStorage","dispatch","getStore","saveUser","loadUser","type","payload","initialState","unsavedChanges","copyState","state","Object","objectSpread","console","error","addPillar","index","pillar","pillars","length","Error","splice","editPillar","removePillar","addSubmission","pillarIndex","submission","toConsumableArray","submissions","concat","removeSubmission","pop","isChecking","AsyncDispatchMiddleware","store","next","action","syncActivityFinished","actionQueue","flushQueue","forEach","a","actionWithAsyncDispatch","assign","asyncDispatch","asyncAction","PromisifyMiddleware","Promise","resolve","applyMiddleware","logger","thunk","promisify","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","combineReducers","arguments","undefined","flow","now","Date","copyDate","d","getTime","daysBefore","days","date","newDate","setDate","getDate","daysBetween","fromDate","toDate","fromCopy","toCopy","setHours","Math","round","convertToISOString","toISOString","parseISOString","s","String","newPillar","name","color","getIntervalStart","interval","duration","nowDate","weeks","weeksBefore","months","setMonth","getMonth","monthsBefore","years","setFullYear","getFullYear","yearsBefore","handlePillarCheck","checked","addSubmissionRedux","setChecked","setConfirmUndoModalOpen","value","time_submitted","PillarView","_ref","intervalView","editing","removeSubmissionRedux","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","setValue","_useState5","_useState6","confirmUndoModalOpen","useEffect","latestSubmission","isSubmitted","intervalStart","summedValues","i","getCurrentPillarValue","react_default","createElement","style","height","alignItems","justifyContent","backgroundColor","position","width","bottom","Grid","stretched","rows","textAlign","verticalAlign","Row","Checkbox","toggle","onChange","Modal","open","onClose","closeIcon","Header","Actions","Button","primary","onClick","setConfirmModalOpen","handlePillarUncheckConfirm","AllPillarsView","columns","_","times","Column","key","components_PillarView","Message","createPillar","addPillarRedux","setSuccess","setIsLoading","setError","setTimeout","createSuccessLabel","show","positive","connect","setName","setColor","success","_useState7","_useState8","isLoading","_useState9","_useState10","align","Form","onSubmit","as","Input","fluid","placeholder","target","Container","centered","className","lib","onChangeComplete","c","hex","negative","message","displayError","loading","disabled","size","setIsCheckingRedux","setIsChecking","trigger","icon","components_PillarCreator","Menu","vertical","widths","background","marginTop","Item","layout_PillarsHeaderView","components_AllPillarsView","updateUserRedux","successHandler","alert","updateUser","children","Segment","raised","padded","inverted","minWidth","maxWidth","marginBottom","basic","Image","src","Logo","App","layout_SplashScreen","layout_MainView","Boolean","location","hostname","match","ReactDOM","render","dist","es","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.c1de642a.chunk.js","sourcesContent":["// import {_randomPillars} from \"../logic/PillarHelper\";\r\n\r\n/**\r\n * Local Storage usage for loading the user data from to the local machine. Stores data from different runs. Indefinite\r\n * data storage.\r\n */\r\nclass UserStorage {\r\n  // The key to access the information\r\n  static storageKey = 'user';\r\n\r\n  /**\r\n   * Retrieves a user object from storage.\r\n   *\r\n   * @return {PillarsUser | null} The user object retrieved from the storage or null if there was no user object found.\r\n   */\r\n  static loadUser() {\r\n    const userJSON = localStorage.getItem(UserStorage.storageKey);\r\n    return userJSON ? JSON.parse(userJSON) : null;\r\n    // const userJSON = {\r\n    //   pillars: _randomPillars(5),\r\n    // };\r\n    // return userJSON;\r\n  }\r\n\r\n  /**\r\n   * Saves a user object into storage.\r\n   *\r\n   * @param {PillarsUser} user The user object to save into the storage.\r\n   * @return{void}\r\n   */\r\n  static saveUser(user) {\r\n    localStorage.setItem(UserStorage.storageKey, JSON.stringify(user));\r\n  }\r\n}\r\n\r\nexport default UserStorage;\r\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport logger from 'redux-logger';\r\nimport user from './reducers/userReducer';\r\nimport flow from './reducers/flowReducer';\r\nimport asyncDispatch from './middleware/AsyncDispatchMiddleware';\r\nimport promisify from './middleware/PromisifyMiddleware';\r\nimport { reduxLog } from '../Constants';\r\n\r\nlet middleware;\r\nif (reduxLog) {\r\n  middleware = applyMiddleware(logger, thunk, asyncDispatch, promisify);\r\n} else {\r\n  middleware = applyMiddleware(thunk, asyncDispatch, promisify);\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    user,\r\n    flow,\r\n  }),\r\n  composeEnhancers(middleware),\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  LOAD_USER,\r\n  SAVE_USER,\r\n  ADD_PILLAR,\r\n  EDIT_PILLAR,\r\n  REMOVE_PILLAR, ADD_SUBMISSION, REMOVE_SUBMISSION,\r\n} from '../typeConstants';\r\nimport UserStorage from '../../api/UserStorage';\r\nimport { newUser } from '../../logic/PillarsUserHelper';\r\n\r\n// For all the actions regarding the actual user using the app. (Will be used to access cloud storage of the User's\r\n// progress and whatnot). May use API calls to retrieve info.\r\n\r\nexport const updateUser = (successHandler) => {\r\n  return (dispatch, getStore) => {\r\n    let user = UserStorage.loadUser();\r\n    if (!user) {\r\n      alert('Generating new user!');\r\n      user = newUser();\r\n      UserStorage.saveUser(user);\r\n\r\n      // TODO Start up flow state!\r\n    }\r\n    dispatch(loadUser(user));\r\n    successHandler && successHandler();\r\n  };\r\n};\r\n\r\n// Save\r\n/**\r\n *\r\n * @returns {Function}\r\n */\r\nexport const saveUserToStorage = () => {\r\n  return (dispatch, getStore) => {\r\n    UserStorage.saveUser(getStore().user.user);\r\n    dispatch(saveUser());\r\n  };\r\n};\r\n\r\n// Load\r\n\r\n// Edit (in different ways)\r\n\r\n// =============================\r\n// == Low Level Redux Actions ==\r\n// =============================\r\n\r\n/**\r\n * Loads a User from storage into the app.\r\n *\r\n * @param user\r\n * @returns {{payload: {user: *}, type: *}}\r\n */\r\nconst loadUser = (user) => ({\r\n  type: LOAD_USER,\r\n  payload: {\r\n    user,\r\n  },\r\n});\r\n\r\nconst saveUser = () => ({\r\n  type: SAVE_USER,\r\n});\r\n\r\nexport const addPillar = (pillar, index = 0) => ({\r\n  type: ADD_PILLAR,\r\n  payload: {\r\n    index,\r\n    pillar,\r\n  },\r\n});\r\n\r\nconst editPillar = (index, pillar) => ({\r\n  type: EDIT_PILLAR,\r\n  payload: {\r\n    index,\r\n    pillar,\r\n  },\r\n});\r\n\r\nconst removePillar = (index) => ({\r\n  type: REMOVE_PILLAR,\r\n  payload: {\r\n    index,\r\n  },\r\n});\r\n\r\nexport const addSubmission = (index, submission) => ({\r\n  type: ADD_SUBMISSION,\r\n  payload: {\r\n    index,\r\n    submission,\r\n  },\r\n});\r\n\r\nexport const removeSubmission = (index) => ({\r\n  type: REMOVE_SUBMISSION,\r\n  payload: {\r\n    index,\r\n  },\r\n});\r\n","// UserReducer Type Constants ---------------------------------------------------------\r\nexport const LOAD_USER = 'LOAD_USER';\r\nexport const SAVE_USER = 'SAVE_USER';\r\nexport const ADD_PILLAR = 'ADD_PILLAR';\r\nexport const EDIT_PILLAR = 'EDIT_PILLAR';\r\nexport const REMOVE_PILLAR = 'REMOVE_PILLAR';\r\nexport const ADD_SUBMISSION = 'ADD_SUBMISSION';\r\nexport const REMOVE_SUBMISSION = 'REMOVE_SUBMISSION';\r\n\r\n// FlowReducer Type Constants\r\nexport const SET_CHECKING = 'SET_CHECKING';\r\n","import type PillarsUser from '../../types/PillarsUser';\r\nimport { err } from '../../Constants';\r\nimport {\r\n  LOAD_USER,\r\n  SAVE_USER,\r\n  ADD_PILLAR,\r\n  EDIT_PILLAR,\r\n  REMOVE_PILLAR,\r\n  ADD_SUBMISSION,\r\n  REMOVE_SUBMISSION,\r\n} from '../typeConstants';\r\nimport { saveUserToStorage } from '../actions/userActions';\r\n\r\n/**\r\n * The type definition for the User redux reducer.\r\n */\r\nexport type UserReducer = {\r\n  user: PillarsUser,\r\n  unsavedChanges: boolean,\r\n};\r\n\r\n/**\r\n * The Initial State for the User Reducer\r\n *\r\n * @type {UserReducer}\r\n */\r\nconst initialState = {\r\n  user: null,\r\n  unsavedChanges: false,\r\n};\r\n\r\n/**\r\n * Deeply copies the User Reducer state. TODO\r\n *\r\n * @param {UserReducer} state The previous state to copy.\r\n * @return {UserReducer} state The copied state.\r\n */\r\nconst copyState = (state) => {\r\n  return { ...state };\r\n};\r\n\r\n/**\r\n * User Reducer:\r\n *\r\n * This reducer handles all the user level states of the app. This includes personal info and history.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {{type: string, payload: *, asyncDispatch: function}} action The action to specify how to update the reducer.\r\n * @return {UserReducer} The next state for the reducer.\r\n */\r\nexport default (state: UserReducer = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOAD_USER:\r\n      state = loadUser(state, action.payload.user);\r\n      break;\r\n    case SAVE_USER:\r\n      state = saveUser(state);\r\n      break;\r\n    case ADD_PILLAR:\r\n      state = addPillar(state, action.payload.index, action.payload.pillar);\r\n      action.asyncDispatch(saveUserToStorage());\r\n      break;\r\n    case EDIT_PILLAR:\r\n      state = editPillar(state, action.payload.index, action.payload.pillar);\r\n      action.asyncDispatch(saveUserToStorage());\r\n      break;\r\n    case REMOVE_PILLAR:\r\n      state = removePillar(state, action.payload.index);\r\n      action.asyncDispatch(saveUserToStorage());\r\n      break;\r\n    case ADD_SUBMISSION:\r\n      state = addSubmission(\r\n        state,\r\n        action.payload.index,\r\n        action.payload.submission,\r\n      );\r\n      action.asyncDispatch(saveUserToStorage());\r\n      break;\r\n    case REMOVE_SUBMISSION:\r\n      state = removeSubmission(state, action.payload.index);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n};\r\n\r\n/**\r\n * Loads the User into the reducer. Doesn't throw an error if has unsaved changes, but puts an error statement.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {PillarsUser} user The user to load into the reducer.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst loadUser = (state, user) => {\r\n  state = copyState(state);\r\n  if (state.unsavedChanges) {\r\n    err && console.error('OVERWRITING UNSAVED CHANGES!?!?!?!');\r\n  }\r\n  state.user = user;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Indicates that the user has been saved and\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst saveUser = (state) => {\r\n  state = copyState(state);\r\n  state.unsavedChanges = false;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Adds a new pillar to an index for the user.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {number} index The index to make for the new pillar, pushing the current index up one.\r\n * @param {Pillar} pillar The pillar to add to the user.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst addPillar = (state, index, pillar) => {\r\n  state = copyState(state);\r\n  if (index > state.user.pillars.length) {\r\n    throw new Error('Attempting to add a pillar to an invalid index!');\r\n  }\r\n  // Add the pillar into the pillars array\r\n  state.user.pillars.splice(index, 0, pillar);\r\n  state.unsavedChanges = true;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Sets a pillar at a certain index for the user.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {number} index The index of the pillars list to edit for the user.\r\n * @param {Pillar} pillar The pillar object to set for the user.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst editPillar = (state, index, pillar) => {\r\n  state = copyState(state);\r\n  if (index >= state.user.pillars.length) {\r\n    throw new Error('Attempting to edit a non-existant pillar!');\r\n  }\r\n  state.user.pillars[index] = pillar;\r\n  state.unsavedChanges = true;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Removes a pillar from the user's pillars list.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {number} index The index of the pillars list to remove from the user.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst removePillar = (state, index) => {\r\n  state = copyState(state);\r\n  if (index >= state.user.pillars.length) {\r\n    throw new Error('Attempting to remove a non-existant pillar!');\r\n  }\r\n  state.user.pillars.splice(index, 1);\r\n  state.unsavedChanges = true;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Adds a submission to one of the User's pillars.\r\n *\r\n * @param {UserReducer} state The initial state for the user.\r\n * @param {number} pillarIndex The index for the pillar to add the submission for.\r\n * @param {PillarSubmission} submission The submission to add for the user.\r\n * @returns {UserReducer} The updated user state.\r\n */\r\nconst addSubmission = (state, pillarIndex, submission) => {\r\n  const pillars = [...state.user.pillars];\r\n  if (pillars.length < pillarIndex) {\r\n    throw new Error(\r\n      'Pillar Index not in bounds of pillars array for adding submission!',\r\n    );\r\n  }\r\n  pillars[pillarIndex].submissions = [\r\n    submission,\r\n    ...pillars[pillarIndex].submissions,\r\n  ];\r\n  return {\r\n    ...state,\r\n    user: {\r\n      ...state.user,\r\n      pillars,\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * Removes the latest submission from one of the user's pillars.\r\n *\r\n * @param {UserReducer} state The initial state for the user.\r\n * @param {number} pillarIndex The index for the pillar to remove the submission for.\r\n * @returns {UserReducer} The updated user state.\r\n */\r\nconst removeSubmission = (state, pillarIndex) => {\r\n  const pillars = [...state.user.pillars];\r\n  if (pillars.length < pillarIndex) {\r\n    throw new Error(\r\n      'Pillar Index not in bounds of pillars array for removing submission!',\r\n    );\r\n  }\r\n  pillars[pillarIndex].submissions = [...pillars[pillarIndex].submissions];\r\n  pillars[pillarIndex].submissions.pop();\r\n  return {\r\n    ...state,\r\n    user: {\r\n      ...state.user,\r\n      pillars,\r\n    },\r\n  };\r\n};\r\n","import { SET_CHECKING } from \"../typeConstants\";\n\n/**\n *\n */\nexport type FlowReducer = {\n  /** Whether the user is submitting submissions for the pillars. */\n  isChecking: boolean,\n};\n\n/**\n * The initial state for the flow reducer.\n *\n * @type {FlowReducer}\n */\nconst initialState: FlowReducer = {\n  isChecking: false,\n};\n\n/**\n * Copies the state for the Flow Reducer.\n *\n * @param {FlowReducer} state The current state of the flow reducer.\n * @return {FlowReducer} The copied state.\n */\nconst copyState = (state) => {\n  return { ...state };\n};\n\n/**\n * TODO\n * @param state\n * @param action\n * @returns {FlowReducer}\n */\nexport default (state: FlowReducer = initialState, action) => {\n  switch (action.type) {\n    case SET_CHECKING:\n      state = copyState(state);\n      state.isChecking = action.payload.isChecking;\n      break;\n    default:\n      break;\n  }\n  return state;\n};\n","// This is from https://lazamar.github.io/dispatching-from-inside-of-reducers/\r\n// We are using this in order to schedule a dispatch from within a reducer!\r\nexport default store => next => action => {\r\n  let syncActivityFinished = false;\r\n  let actionQueue = [];\r\n\r\n  function flushQueue() {\r\n    actionQueue.forEach(a => store.dispatch(a)); // flush queue\r\n    actionQueue = [];\r\n  }\r\n\r\n  function asyncDispatch(asyncAction) {\r\n    actionQueue = actionQueue.concat([asyncAction]);\r\n\r\n    if (syncActivityFinished) {\r\n      flushQueue();\r\n    }\r\n  }\r\n\r\n  const actionWithAsyncDispatch = Object.assign({}, action, {asyncDispatch});\r\n\r\n  next(actionWithAsyncDispatch);\r\n  syncActivityFinished = true;\r\n  flushQueue();\r\n};","export default () => (next) => (action) => {\r\n  return new Promise((resolve) => resolve(next(action)));\r\n};\r\n","// =====================================================================================================================\r\n// Date management\r\n// =====================================================================================================================\r\n\r\n/**\r\n * @return {Date} The date representing right now.\r\n */\r\nexport const now = () => new Date();\r\n\r\n/**\r\n * @param  {Date} d The date object to copy.\r\n * @return {Date} The copied date object.\r\n */\r\nexport const copyDate = (d) => new Date(d.getTime());\r\n\r\n// =====================================================================================================================\r\n// Date Difference Management\r\n// =====================================================================================================================\r\n\r\n/**\r\n * @param  {number} days The number of days before the original date\r\n * @param  {Date} date The original date to get the before date for\r\n * @return {Date} The new date a number of days before the given date\r\n */\r\nexport const daysBefore = (days, date = now()) => {\r\n  const newDate = new Date(date.getTime());\r\n  newDate.setDate(date.getDate() - days);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * @param  {number} weeks The number of weeks before the original date\r\n * @param  {Date} date The original date to get the before date for\r\n * @return {Date} The new date a number of weeks before the given date\r\n */\r\nexport const weeksBefore = (weeks, date = now()) => {\r\n  const newDate = copyDate(date);\r\n  newDate.setDate(date.getDate() - 7 * weeks);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * @param  {number} months The number of months before the original date\r\n * @param  {Date} date The original date to get the before date for\r\n * @return {Date} The new date a number of months before the given date\r\n */\r\nexport const monthsBefore = (months, date = now()) => {\r\n  const newDate = copyDate(date);\r\n  newDate.setMonth(date.getMonth() - months);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * @param  {number} years The number of years before the original date\r\n * @param  {Date} date The original date to get the before date for\r\n * @return {Date} The new date a number of years before the given date\r\n */\r\nexport const yearsBefore = (years, date = now()) => {\r\n  const newDate = copyDate(date);\r\n  newDate.setFullYear(date.getFullYear() - years);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * @param  {Date} fromDate The from date to calculate the difference\r\n * @param  {Date} toDate The to date to calculate the difference\r\n * @return {number} The number of full days between the two dates\r\n */\r\nexport const daysBetween = (fromDate, toDate) => {\r\n  const fromCopy = copyDate(fromDate);\r\n  const toCopy = copyDate(toDate);\r\n  fromCopy.setHours(0, 0, 0, 0);\r\n  toCopy.setHours(0, 0, 0, 0);\r\n  return Math.round(\r\n    (toCopy.getTime() - fromCopy.getTime()) / (1000 * 60 * 60 * 24),\r\n  );\r\n};\r\n\r\n// ISO String Management\r\n\r\n/**\r\n * @param  {Date} d The date object to convert\r\n * @return {null|string} The ISO formatted string for the Date object.\r\n */\r\nexport const convertToISOString = (d) => d && d.toISOString();\r\n\r\n/**\r\n * @param  {string} s The ISO formatted string to parse.\r\n * @return {Date} The Date object indicating the time.\r\n */\r\nexport const parseISOString = (s) => new Date(String(s));\r\n","import faker from 'faker';\r\nimport {\r\n  now,\r\n  daysBefore,\r\n  weeksBefore,\r\n  monthsBefore,\r\n  yearsBefore,\r\n  parseISOString,\r\n  daysBetween,\r\n  convertToISOString,\r\n} from './TimeHelper';\r\n\r\n/**\r\n * Creates a new Pillar.\r\n *\r\n * @param {string} name The name of the pillar.\r\n * @param {string} color The color to display for the pillar.\r\n * @param {string|null} type The special type of the pillar to create.\r\n * @returns {Pillar} The newly created Pillar.\r\n */\r\nexport const newPillar = (name, color, type) => ({\r\n  name,\r\n  color,\r\n  type,\r\n  submissions: [],\r\n});\r\n\r\n/**\r\n * Creates a new custom Pillar.\r\n *\r\n * @param {string} name The name of the pillar.\r\n * @param {string} color The color to display for the pillar.\r\n * @returns {Pillar} The newly created custom Pillar.\r\n */\r\nexport const newCustomPillar = (name, color) => newPillar(name, color, null);\r\n\r\n/**\r\n * Creates a new Submission for a Pillar.\r\n *\r\n * @param {number} value The decimal value to accompany the submission.\r\n * @returns {PillarSubmission} The newly created submission.\r\n */\r\nexport const newSubmission = (value) => ({\r\n  value,\r\n  time_submitted: convertToISOString(now()),\r\n});\r\n\r\n/**\r\n * Returns whether the pillar has been submitted today yet.\r\n *\r\n * @param {Pillar} pillar The pillar object to receive the information about\r\n * @param {Date} nowDate The date describing right now\r\n * @returns {boolean} Whether the pillar has been submitted already now\r\n */\r\nexport const isSubmitted = (pillar, nowDate = now()) => {\r\n  if (pillar.submissions && pillar.submissions.length > 0) {\r\n    const latestSubmission = pillar.submissions[0];\r\n    return (\r\n      daysBetween(nowDate, parseISOString(latestSubmission.time_submitted)) ===\r\n      0\r\n    );\r\n  }\r\n  return false;\r\n};\r\n\r\n/**\r\n * Gets the start date for the interval that the pillar is calculating for.\r\n *\r\n * @param {string} interval The name of the length of the specific interval to calculate for\r\n * @param {number} duration The number of intervals before the start of the date\r\n * @param {Date} nowDate The date object indicating when to get the interval start for\r\n * @returns{Date} The date for the start of the interval for the pillar value\r\n */\r\nconst getIntervalStart = (interval, duration, nowDate) => {\r\n  switch (interval) {\r\n    case 'day':\r\n      return daysBefore(duration, nowDate);\r\n    case 'week':\r\n      return weeksBefore(duration, nowDate);\r\n    case 'month':\r\n      return monthsBefore(duration, nowDate);\r\n    case 'year':\r\n      return yearsBefore(duration, nowDate);\r\n    default:\r\n      throw new Error(`Unrecognized interval string = ${interval}`);\r\n  }\r\n};\r\n\r\n/**\r\n * Gets the current pillar value for the pillar as it will show up on the screen\r\n *\r\n * @param {Pillar} pillar The pillar to calculate the current value for.\r\n * @param {string} interval The name of the interval to calculate the value for\r\n * @param {number} duration The number of intervals to calculate the value for\r\n * @param  {Date} nowDate The date that determines the now date in the value\r\n * @return {number} Returns a percentage for the current value of the pillar\r\n */\r\nexport const getCurrentPillarValue = (\r\n  pillar,\r\n  interval,\r\n  duration,\r\n  nowDate = now(),\r\n) => {\r\n  const intervalStart = getIntervalStart(interval, duration, nowDate);\r\n  let summedValues = 0;\r\n  // TODO Get rid of this once done testing\r\n  if (!pillar.submissions || pillar.submissions.length === 0) {\r\n    return 1.0;\r\n  }\r\n  for (let i = 0; i < pillar.submissions.length; i += 1) {\r\n    const submission = pillar.submissions[i];\r\n    if (parseISOString(submission.time_submitted) > intervalStart) {\r\n      // Add to the value\r\n      summedValues += submission.value;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n  return summedValues / daysBetween(intervalStart, nowDate);\r\n};\r\n\r\n/**\r\n * TEST FUNCTION, creates a random pillars array.\r\n *\r\n * @param {number} numPillars The number of pillars in the array\r\n * @param {number} maxNumSubmissions The max number of submissions for each pillar\r\n * @return {[Pillar]} The random pillars\r\n * @private\r\n */\r\nexport const _randomPillars = (numPillars = 3, maxNumSubmissions = 10) => {\r\n  const pillars = [];\r\n  const potentialPillarNames = [\r\n    'Exercise',\r\n    'Diet',\r\n    'Love',\r\n    'Pillars',\r\n    'Work',\r\n    'Happiness',\r\n  ];\r\n  for (let i = 0; i < numPillars; i += 1) {\r\n    const name =\r\n      potentialPillarNames[\r\n        Math.floor(Math.random() * potentialPillarNames.length)\r\n      ];\r\n    const color = faker.commerce.color();\r\n    const pillar = {\r\n      name,\r\n      color,\r\n      submissions: [],\r\n    };\r\n    const maxSubmissionInterval = 3;\r\n    let numberOfDaysBefore = Math.floor(Math.random() * maxSubmissionInterval);\r\n    for (\r\n      let _ = 0;\r\n      _ < faker.random.number(maxNumSubmissions - 1) + 1;\r\n      _ += 1\r\n    ) {\r\n      // earliest to latest\r\n      pillar.submissions.push({\r\n        value: Math.random(),\r\n        time_submitted: convertToISOString(daysBefore(numberOfDaysBefore)),\r\n      });\r\n      numberOfDaysBefore +=\r\n        Math.floor(Math.random() * maxSubmissionInterval);\r\n    }\r\n    pillars.push(pillar);\r\n  }\r\n  return pillars;\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Checkbox, Grid, Modal } from 'semantic-ui-react';\r\nimport type Pillar from '../types/Pillar';\r\nimport { now } from '../logic/TimeHelper';\r\nimport {\r\n  getCurrentPillarValue,\r\n  isSubmitted,\r\n  newSubmission,\r\n} from '../logic/PillarHelper';\r\nimport type PillarSubmission from '../types/PillarSubmission';\r\n\r\ntype Props = {\r\n  pillar: Pillar,\r\n  intervalView: string,\r\n  editing: boolean,\r\n  addSubmissionRedux: (PillarSubmission) => void,\r\n  removeSubmissionRedux: () => void,\r\n};\r\n\r\n/**\r\n * \r\n * @param checked\r\n * @param {Function} addSubmissionRedux\r\n * @param setChecked\r\n * @param setConfirmUndoModalOpen\r\n */\r\nconst handlePillarCheck = (checked, addSubmissionRedux, setChecked, setConfirmUndoModalOpen) => {\r\n  if (!checked) {\r\n    // Handle if there is an intense pillar\r\n    addSubmissionRedux(newSubmission(1.0));\r\n    setChecked(true);\r\n  } else {\r\n    // Then always make sure they know\r\n    setConfirmUndoModalOpen(true);\r\n  }\r\n};\r\n\r\n/**\r\n * \r\n * @param removeSubmissionRedux\r\n * @param setChecked\r\n * @param setConfirmModalOpen\r\n */\r\nconst handlePillarUncheckConfirm = (\r\n  removeSubmissionRedux,\r\n  setChecked,\r\n  setConfirmModalOpen,\r\n) => {\r\n  removeSubmissionRedux();\r\n  setChecked(false);\r\n  setConfirmModalOpen(false);\r\n};\r\n\r\n/**\r\n * The view that displays the specific pillar information for a single pillar\r\n *\r\n * @param {Pillar} pillar The pillar to show information for\r\n * @param {string} intervalView The type of interval\r\n * @param {boolean} editing Whether the pillar is able to be checked right now.\r\n * @return {*} The jsx for displaying the component\r\n * @constructor\r\n */\r\nconst PillarView = ({\r\n  pillar,\r\n  intervalView,\r\n  editing,\r\n  addSubmissionRedux,\r\n  removeSubmissionRedux,\r\n}: Props) => {\r\n  const [checked, setChecked] = useState(false);\r\n  const [value, setValue] = useState(0);\r\n  const [confirmUndoModalOpen, setConfirmUndoModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setChecked(isSubmitted(pillar, now()));\r\n    setValue(getCurrentPillarValue(pillar, intervalView, 1));\r\n  }, [pillar.submissions, intervalView, checked]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: `${value * 75}vh`,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: pillar.color,\r\n        position: 'relative',\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          width: '100%',\r\n          bottom: 2,\r\n        }}\r\n      >\r\n        <Grid stretched rows=\"equal\" textAlign=\"center\" verticalAlign=\"bottom\">\r\n          <Grid.Row>\r\n            {value}\r\n            {'\\n'}\r\n            {pillar.name}\r\n          </Grid.Row>\r\n          <Grid.Row>\r\n            {editing && (\r\n              <Checkbox\r\n                toggle\r\n                checked={checked}\r\n                onChange={() =>\r\n                  handlePillarCheck(\r\n                    checked,\r\n                    addSubmissionRedux,\r\n                    setChecked,\r\n                    setConfirmUndoModalOpen,\r\n                  )\r\n                }\r\n              />\r\n            )}\r\n            <Modal\r\n              open={confirmUndoModalOpen}\r\n              onClose={() => setConfirmUndoModalOpen(false)}\r\n              closeIcon\r\n            >\r\n              <Modal.Header>\r\n                {'Are you sure you want to uncheck this pillar?'}\r\n              </Modal.Header>\r\n              <Modal.Actions>\r\n                <Button\r\n                  primary\r\n                  onClick={() =>\r\n                    handlePillarUncheckConfirm(\r\n                      removeSubmissionRedux,\r\n                      setChecked,\r\n                      setConfirmUndoModalOpen,\r\n                    )\r\n                  }\r\n                >\r\n                  {'Uncheck'}\r\n                </Button>\r\n              </Modal.Actions>\r\n            </Modal>\r\n          </Grid.Row>\r\n        </Grid>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PillarView;\r\n","import React from 'react';\r\nimport { Grid, Message } from 'semantic-ui-react';\r\nimport _ from 'lodash';\r\nimport type Pillar from '../types/Pillar';\r\nimport PillarView from './PillarView';\r\nimport type PillarSubmission from '../types/PillarSubmission';\r\n\r\ntype Props = {\r\n  pillars: [Pillar],\r\n  intervalView: string,\r\n  editing: boolean,\r\n  addSubmissionRedux: (number, PillarSubmission) => void,\r\n  removeSubmissionRedux: (number) => void,\r\n};\r\n\r\n/**\r\n * The view for displaying all of the pillars.\r\n *\r\n * @param {[Pillar]} pillars The pillar objects to display\r\n * @param {string} intervalView The type of interval type for the values\r\n * @param {boolean} editing Whether the pillars are currently being edited or not.\r\n * @param {Function} addSubmissionRedux Redux function for adding submission.\r\n * @param {Function} removeSubmissionRedux Redux function for removing submission.\r\n * @return {*} The jsx for the component\r\n * @constructor\r\n */\r\nconst AllPillarsView = ({\r\n  pillars,\r\n  intervalView,\r\n  editing,\r\n  addSubmissionRedux,\r\n  removeSubmissionRedux,\r\n}: Props) => {\r\n  return (\r\n    <Grid\r\n      columns={pillars.length}\r\n      style={{\r\n        height: '80vh',\r\n      }}\r\n    >\r\n      {pillars.length > 0 ? (\r\n        _.times(pillars.length, (i) => (\r\n          <Grid.Column key={i} verticalAlign=\"bottom\">\r\n            <PillarView\r\n              pillar={pillars[i]}\r\n              intervalView={intervalView}\r\n              editing={editing}\r\n              addSubmissionRedux={(s) => addSubmissionRedux(i, s)}\r\n              removeSubmissionRedux={() => removeSubmissionRedux(i)}\r\n            />\r\n          </Grid.Column>\r\n        ))\r\n      ) : (\r\n        <Message> No Pillars Yet! </Message>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default AllPillarsView;\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Message,\r\n  Container,\r\n  Button,\r\n  Grid,\r\n  Header,\r\n  Form,\r\n} from 'semantic-ui-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport { addPillar } from '../redux/actions/userActions';\r\nimport { newPillar } from '../logic/PillarHelper';\r\n\r\ntype Props = {\r\n  // Redux\r\n  addPillarRedux: Function,\r\n};\r\n\r\n/**\r\n * Creates a pillar and adds it to the redux and component state.\r\n *\r\n * @param {string} name The name of pillar to the make.\r\n * @param {string} color The color of the pillar to create.\r\n * @param {Function} addPillarRedux The redux function to add a pillar to the user.\r\n * @param {Function} setSuccess Sets the success state\r\n * @param {Function} setIsLoading Sets the is loading state\r\n * @param {Function} setError Sets the error state\r\n * @returns {void}\r\n */\r\nconst createPillar = (\r\n  name,\r\n  color,\r\n  addPillarRedux,\r\n  setSuccess,\r\n  setIsLoading,\r\n  setError,\r\n) => {\r\n  setIsLoading(true);\r\n  setTimeout(() => {\r\n    if (name && color) {\r\n      const pillar = newPillar(name, color);\r\n      addPillarRedux(pillar);\r\n      setSuccess(true);\r\n    } else {\r\n      setSuccess(false);\r\n      setError(new Error(''));\r\n    }\r\n    setIsLoading(false);\r\n  }, 2000);\r\n};\r\n\r\n/**\r\n * Shows a success label based on the given info.\r\n *\r\n * @param {boolean} show Whether the User has successfully created a Challenge or not.\r\n * @return {*} The React JSX to display the success label or null if not applicable.\r\n */\r\nexport const createSuccessLabel = (show) => {\r\n  if (show) {\r\n    return (\r\n      <Message positive>\r\n        <Message.Header>Success!</Message.Header>\r\n        <p>You just created a new Challenge!</p>\r\n      </Message>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n/**\r\n * Displays an error message if applicable.\r\n *\r\n * @param {Error} error The error message string.\r\n * @return {*} The React JSX to show the error message.\r\n */\r\nexport const displayError = (error) => {\r\n  if (error) {\r\n    return (\r\n      <Message negative>\r\n        <Message.Header>Sorry!</Message.Header>\r\n        <p>{error.message}</p>\r\n      </Message>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n/**\r\n * The view in charge of creating a new pillar for User.\r\n *\r\n * @param {PillarsUser} user The redux user currently using the app\r\n * @param {Function} addPillarRedux The redux function responsible for adding a new pillar\r\n * @return {*} The jsx to display the component\r\n * @constructor\r\n */\r\nconst PillarCreator = ({ addPillarRedux }: Props) => {\r\n  const [name, setName] = useState(null);\r\n  const [color, setColor] = useState('#fff');\r\n  const [success, setSuccess] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Form\r\n        onSubmit={() =>\r\n          createPillar(\r\n            name,\r\n            color,\r\n            addPillarRedux,\r\n            setSuccess,\r\n            setIsLoading,\r\n            setError,\r\n          )\r\n        }\r\n      >\r\n        <Header as=\"h3\">\r\n          <Form.Input\r\n            fluid\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Name of the Pillar\"\r\n            onChange={(value) => setName(value.target.value)}\r\n          />\r\n        </Header>\r\n        <div align=\"center\">\r\n          <Container align=\"center\">\r\n            <Grid centered>\r\n              <Grid.Row centered>\r\n                <Grid.Column>\r\n                  <div className=\"field\">\r\n                    <text>Choose the color for the pillar</text>\r\n                    <SketchPicker\r\n                      color={color}\r\n                      onChangeComplete={(c) => setColor(c.hex)}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {displayError(error)}\r\n                    {createSuccessLabel(success)}\r\n                  </div>\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n            </Grid>\r\n          </Container>\r\n        </div>\r\n        <div>\r\n          <Button\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            primary\r\n            size=\"big\"\r\n            type=\"button\"\r\n            onClick={() =>\r\n              createPillar(\r\n                name,\r\n                color,\r\n                addPillarRedux,\r\n                setSuccess,\r\n                setIsLoading,\r\n                setError,\r\n              )\r\n            }\r\n          >\r\n            {'Submit'}\r\n          </Button>\r\n        </div>\r\n        {createSuccessLabel(success)}\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  (dispatch) => {\r\n    return {\r\n      addPillarRedux: (pillar, index) => {\r\n        dispatch(addPillar(pillar, index));\r\n      },\r\n    };\r\n  },\r\n)(PillarCreator);\r\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Grid, Button, Container, Modal } from 'semantic-ui-react';\nimport PillarCreator from '../components/PillarCreator';\nimport type { FlowReducer } from '../redux/reducers/flowReducer';\nimport { setIsChecking } from '../redux/actions/flowActions';\n\ntype Props = {\n  flow: FlowReducer,\n  setIsCheckingRedux: Function,\n};\n\n/**\n * The view for the header of the pillars main view, which shows the actions to take.\n *\n * @returns {*} The jsx to display the component\n * @constructor\n */\nconst PillarsHeaderView = ({ flow, setIsCheckingRedux }: Props) => {\n  return (\n    <Container fluid>\n      <Grid columns=\"equal\">\n        <Grid.Column>\n          <Modal\n            closeIcon\n            trigger={\n              <Button icon=\"money\" primary>\n                Create New Pillar\n              </Button>\n            }\n          >\n            <PillarCreator />\n          </Modal>\n        </Grid.Column>\n        <Grid.Column>\n          <Button\n            primary={!flow.isChecking}\n            icon=\"check circle\"\n            onClick={() => setIsCheckingRedux(!flow.isChecking)}\n          />\n        </Grid.Column>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    flow: state.flow,\n  }),\n  (dispatch) => {\n    return {\n      setIsCheckingRedux: (isChecking) => {\n        dispatch(setIsChecking(isChecking));\n      },\n    };\n  },\n)(PillarsHeaderView);\n","import { SET_CHECKING } from '../typeConstants';\n\n/**\n * Redux action for setting the flow isChecking.\n *\n * @param {boolean} isChecking Whether the app will be checking for submissions.\n * @returns {{payload: {isChecking: *}, type: *}} The redux action information.\n */\nexport const setIsChecking = (isChecking) => ({\n  type: SET_CHECKING,\n  payload: {\n    isChecking,\n  },\n});\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Container, Menu } from 'semantic-ui-react';\r\nimport AllPillarsView from '../components/AllPillarsView';\r\nimport PillarsHeaderView from './PillarsHeaderView';\r\n// import { _randomPillars } from '../logic/PillarHelper';\r\nimport type { FlowReducer } from '../redux/reducers/flowReducer';\r\nimport type { UserReducer } from '../redux/reducers/userReducer';\r\nimport { addSubmission, removeSubmission } from '../redux/actions/userActions';\r\nimport type PillarSubmission from '../types/PillarSubmission';\r\n\r\n// const testPillars = _randomPillars(5);\r\n\r\ntype Props = {\r\n  user: UserReducer,\r\n  flow: FlowReducer,\r\n  addSubmissionRedux: (number, PillarSubmission) => void,\r\n  removeSubmissionRedux: (number) => void,\r\n};\r\n\r\n/**\r\n * The view for the main part of the app where you can view your pillars and edit them.\r\n *\r\n * @return {*} The jsx for the view\r\n * @constructor\r\n */\r\nconst MainView = ({\r\n  user,\r\n  flow,\r\n  addSubmissionRedux,\r\n  removeSubmissionRedux,\r\n}: Props) => {\r\n  return (\r\n    <div>\r\n      <Menu\r\n        fluid\r\n        vertical\r\n        widths={1}\r\n        style={{\r\n          height: '91vh',\r\n          background: 'rgba(256, 256, 256, 0.3)',\r\n          marginTop: '20px',\r\n        }}\r\n      >\r\n        <Menu.Item>\r\n          <PillarsHeaderView />\r\n        </Menu.Item>\r\n        <Menu.Item style={{ background: 'rgba(256, 256, 256, 0.5)' }}>\r\n          <Container fluid>\r\n            {/*<AllPillarsView pillars={testPillars} intervalView=\"week\" />*/}\r\n            <AllPillarsView\r\n              pillars={user.user.pillars}\r\n              intervalView=\"week\"\r\n              editing={flow.isChecking}\r\n              addSubmissionRedux={addSubmissionRedux}\r\n              removeSubmissionRedux={removeSubmissionRedux}\r\n            />\r\n          </Container>\r\n        </Menu.Item>\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    user: state.user,\r\n    flow: state.flow,\r\n  }),\r\n  (dispatch) => ({\r\n    addSubmissionRedux: (index, submission) => {\r\n      dispatch(addSubmission(index, submission));\r\n    },\r\n    removeSubmissionRedux: (index) => {\r\n      dispatch(removeSubmission(index));\r\n    },\r\n  }),\r\n)(MainView);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Segment, Image, Header, Grid } from 'semantic-ui-react';\r\nimport { connect } from 'react-redux';\r\nimport { updateUser } from '../redux/actions/userActions';\r\nimport Logo from '../img/pillars.png';\r\n\r\n/**\r\n * The view for showing the loading splash screen of the app.\r\n *\r\n * @return {*} The jsx for displaying the component\r\n */\r\nconst loadingScreen = () => (\r\n  <Grid verticalAlign=\"middle\" centered textAlign=\"center\">\r\n    <Grid.Row>\r\n      <Segment\r\n        raised\r\n        padded\r\n        inverted\r\n        style={{\r\n          minWidth: 340,\r\n          maxWidth: 800,\r\n          marginBottom: '-60px',\r\n          marginTop: '120px',\r\n        }}\r\n      >\r\n        <Segment basic>\r\n          <Image src={Logo} size=\"tiny\" centered />\r\n          <Header as=\"h2\" inverted textAlign=\"center\">\r\n            {'Loading...'}\r\n          </Header>\r\n        </Segment>\r\n      </Segment>\r\n    </Grid.Row>\r\n  </Grid>\r\n);\r\n\r\n/**\r\n * The controlled view for showing the app given if the add is loading.\r\n *\r\n * @param {[*]} children The children of the component to render if not loading\r\n * @param {Function} updateUserRedux The function in charge of updating the user from storage\r\n * @return {*} The jsx for displaying the component\r\n * @constructor\r\n */\r\nconst SplashScreen = ({ children, updateUserRedux }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    updateUserRedux(() => {\r\n      setIsLoading(false);\r\n    });\r\n  });\r\n\r\n  return isLoading ? loadingScreen() : children;\r\n};\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  {\r\n    updateUserRedux: (successHandler) => updateUser(successHandler),\r\n  },\r\n)(SplashScreen);\r\n","/**\r\n * Creates a new user to start from scratch.\r\n *\r\n * @return {PillarsUser}\r\n */\r\nexport const newUser = () => ({\r\n  pillars: []\r\n});","import React from 'react';\nimport MainView from './layout/MainView';\nimport SplashScreen from './layout/SplashScreen';\n\n/**\n * The view for the entire app.\n *\n * @returns {*} The jsx to display the component\n * @constructor\n */\nconst App = () => (\n  <SplashScreen>\n    <MainView />\n  </SplashScreen>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './semantic/semantic-dark-theme/dist/semantic.min.css';\nimport { BreakpointProvider } from 'react-socks';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BreakpointProvider>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BreakpointProvider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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tK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuir3Ms/nw4ekQJW6Kvcyz+fDh6RAlboq9zLP58OFq6zbH48+Fo6bZvjoWk/znHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSg7/++i8YV7I81CL15AAAAABJRU5ErkJggg==\""],"sourceRoot":""}