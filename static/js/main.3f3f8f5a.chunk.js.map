{"version":3,"sources":["logic/TimeHelper.js","logic/PillarHelper.js","api/UserStorage.js","redux/store.js","redux/actions/userActions.js","redux/typeConstants.js","redux/reducers/userReducer.js","redux/reducers/flowReducer.js","redux/middleware/AsyncDispatchMiddleware.js","redux/middleware/PromisifyMiddleware.js","components/PillarView.js","components/AllPillarsView.js","components/PillarCreator.js","layout/PillarsHeaderView.js","redux/actions/flowActions.js","layout/MainView.js","layout/SplashScreen.js","logic/PillarsUserHelper.js","App.js","serviceWorker.js","index.js","img/pillars.png"],"names":["now","Date","copyDate","d","getTime","daysBefore","days","date","arguments","length","undefined","newDate","setDate","getDate","daysBetween","fromDate","toDate","fromCopy","toCopy","setHours","Math","round","convertToISOString","toISOString","parseISOString","s","String","newPillar","name","color","type","submissions","getIntervalStart","interval","duration","nowDate","weeks","weeksBefore","months","setMonth","getMonth","monthsBefore","years","setFullYear","getFullYear","yearsBefore","Error","concat","_randomPillars","numPillars","maxNumSubmissions","pillars","potentialPillarNames","i","pillar","floor","random","faker","commerce","numberOfDaysBefore","_","number","push","value","time_submitted","UserStorage","user","storageKey","middleware","saveUserToStorage","dispatch","getStore","saveUser","loadUser","payload","initialState","unsavedChanges","copyState","state","Object","objectSpread","console","error","addPillar","index","splice","editPillar","removePillar","addSubmission","pillarIndex","submission","toConsumableArray","removeSubmission","pop","isChecking","AsyncDispatchMiddleware","store","next","action","syncActivityFinished","actionQueue","flushQueue","forEach","a","actionWithAsyncDispatch","assign","asyncDispatch","asyncAction","PromisifyMiddleware","Promise","resolve","applyMiddleware","logger","thunk","promisify","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","combineReducers","flow","handlePillarCheck","checked","addSubmissionRedux","setChecked","setConfirmUndoModalOpen","PillarView","_ref","intervalView","editing","removeSubmissionRedux","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","setValue","_useState5","_useState6","confirmUndoModalOpen","useEffect","latestSubmission","isSubmitted","intervalStart","summedValues","getCurrentPillarValue","react_default","createElement","style","height","alignItems","justifyContent","backgroundColor","position","width","bottom","Grid","stretched","rows","textAlign","verticalAlign","Row","Checkbox","toggle","onChange","Modal","open","onClose","closeIcon","Header","Actions","Button","primary","onClick","setConfirmModalOpen","handlePillarUncheckConfirm","AllPillarsView","columns","times","Column","key","components_PillarView","Message","createPillar","addPillarRedux","setSuccess","setIsLoading","setError","setTimeout","createSuccessLabel","show","positive","connect","setName","setColor","success","_useState7","_useState8","isLoading","_useState9","_useState10","align","Form","onSubmit","as","Input","fluid","placeholder","target","Container","centered","className","lib","onChangeComplete","c","hex","negative","message","displayError","loading","disabled","size","setIsCheckingRedux","setIsChecking","trigger","icon","components_PillarCreator","Menu","vertical","widths","background","marginTop","Item","layout_PillarsHeaderView","components_AllPillarsView","updateUserRedux","successHandler","alert","updateUser","children","Segment","raised","padded","inverted","minWidth","maxWidth","marginBottom","basic","Image","src","Logo","App","layout_SplashScreen","layout_MainView","Boolean","location","hostname","match","ReactDOM","render","dist","es","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.3f3f8f5a.chunk.js","sourcesContent":["// =====================================================================================================================\r\n// Date management\r\n// =====================================================================================================================\r\n\r\n/**\r\n * @return {Date} The date representing right now.\r\n */\r\nexport const now = () => new Date();\r\n\r\n/**\r\n * @param  {Date} d The date object to copy.\r\n * @return {Date} The copied date object.\r\n */\r\nexport const copyDate = (d) => new Date(d.getTime());\r\n\r\n// =====================================================================================================================\r\n// Date Difference Management\r\n// =====================================================================================================================\r\n\r\n/**\r\n * @param  {number} days The number of days before the original date\r\n * @param  {Date} date The original date to get the before date for\r\n * @return {Date} The new date a number of days before the given date\r\n */\r\nexport const daysBefore = (days, date = now()) => {\r\n  const newDate = new Date(date.getTime());\r\n  newDate.setDate(date.getDate() - days);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * @param  {number} weeks The number of weeks before the original date\r\n * @param  {Date} date The original date to get the before date for\r\n * @return {Date} The new date a number of weeks before the given date\r\n */\r\nexport const weeksBefore = (weeks, date = now()) => {\r\n  const newDate = copyDate(date);\r\n  newDate.setDate(date.getDate() - 7 * weeks);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * @param  {number} months The number of months before the original date\r\n * @param  {Date} date The original date to get the before date for\r\n * @return {Date} The new date a number of months before the given date\r\n */\r\nexport const monthsBefore = (months, date = now()) => {\r\n  const newDate = copyDate(date);\r\n  newDate.setMonth(date.getMonth() - months);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * @param  {number} years The number of years before the original date\r\n * @param  {Date} date The original date to get the before date for\r\n * @return {Date} The new date a number of years before the given date\r\n */\r\nexport const yearsBefore = (years, date = now()) => {\r\n  const newDate = copyDate(date);\r\n  newDate.setFullYear(date.getFullYear() - years);\r\n  return newDate;\r\n};\r\n\r\n/**\r\n * @param  {Date} fromDate The from date to calculate the difference\r\n * @param  {Date} toDate The to date to calculate the difference\r\n * @return {number} The number of full days between the two dates\r\n */\r\nexport const daysBetween = (fromDate, toDate) => {\r\n  const fromCopy = copyDate(fromDate);\r\n  const toCopy = copyDate(toDate);\r\n  fromCopy.setHours(0, 0, 0, 0);\r\n  toCopy.setHours(0, 0, 0, 0);\r\n  return Math.round(\r\n    (toCopy.getTime() - fromCopy.getTime()) / (1000 * 60 * 60 * 24),\r\n  );\r\n};\r\n\r\n// ISO String Management\r\n\r\n/**\r\n * @param  {Date} d The date object to convert\r\n * @return {null|string} The ISO formatted string for the Date object.\r\n */\r\nexport const convertToISOString = (d) => d && d.toISOString();\r\n\r\n/**\r\n * @param  {string} s The ISO formatted string to parse.\r\n * @return {Date} The Date object indicating the time.\r\n */\r\nexport const parseISOString = (s) => new Date(String(s));\r\n","import faker from 'faker';\r\nimport {\r\n  now,\r\n  daysBefore,\r\n  weeksBefore,\r\n  monthsBefore,\r\n  yearsBefore,\r\n  parseISOString,\r\n  daysBetween,\r\n  convertToISOString,\r\n} from './TimeHelper';\r\n\r\n/**\r\n * Creates a new Pillar.\r\n *\r\n * @param {string} name The name of the pillar.\r\n * @param {string} color The color to display for the pillar.\r\n * @param {string|null} type The special type of the pillar to create.\r\n * @returns {Pillar} The newly created Pillar.\r\n */\r\nexport const newPillar = (name, color, type) => ({\r\n  name,\r\n  color,\r\n  type,\r\n  submissions: [],\r\n});\r\n\r\n/**\r\n * Creates a new custom Pillar.\r\n *\r\n * @param {string} name The name of the pillar.\r\n * @param {string} color The color to display for the pillar.\r\n * @returns {Pillar} The newly created custom Pillar.\r\n */\r\nexport const newCustomPillar = (name, color) => newPillar(name, color, null);\r\n\r\n/**\r\n * Creates a new Submission for a Pillar.\r\n *\r\n * @param {number} value The decimal value to accompany the submission.\r\n * @returns {PillarSubmission} The newly created submission.\r\n */\r\nexport const newSubmission = (value) => ({\r\n  value,\r\n  time_submitted: convertToISOString(now()),\r\n});\r\n\r\n/**\r\n * Returns whether the pillar has been submitted today yet.\r\n *\r\n * @param {Pillar} pillar The pillar object to receive the information about\r\n * @param {Date} nowDate The date describing right now\r\n * @returns {boolean} Whether the pillar has been submitted already now\r\n */\r\nexport const isSubmitted = (pillar, nowDate = now()) => {\r\n  if (pillar.submissions && pillar.submissions.length > 0) {\r\n    const latestSubmission = pillar.submissions[0];\r\n    return (\r\n      daysBetween(nowDate, parseISOString(latestSubmission.time_submitted)) ===\r\n      0\r\n    );\r\n  }\r\n  return false;\r\n};\r\n\r\n/**\r\n * Gets the start date for the interval that the pillar is calculating for.\r\n *\r\n * @param {string} interval The name of the length of the specific interval to calculate for\r\n * @param {number} duration The number of intervals before the start of the date\r\n * @param {Date} nowDate The date object indicating when to get the interval start for\r\n * @returns{Date} The date for the start of the interval for the pillar value\r\n */\r\nconst getIntervalStart = (interval, duration, nowDate) => {\r\n  switch (interval) {\r\n    case 'day':\r\n      return daysBefore(duration, nowDate);\r\n    case 'week':\r\n      return weeksBefore(duration, nowDate);\r\n    case 'month':\r\n      return monthsBefore(duration, nowDate);\r\n    case 'year':\r\n      return yearsBefore(duration, nowDate);\r\n    default:\r\n      throw new Error(`Unrecognized interval string = ${interval}`);\r\n  }\r\n};\r\n\r\n/**\r\n * Gets the current pillar value for the pillar as it will show up on the screen\r\n *\r\n * @param {Pillar} pillar The pillar to calculate the current value for.\r\n * @param {string} interval The name of the interval to calculate the value for\r\n * @param {number} duration The number of intervals to calculate the value for\r\n * @param  {Date} nowDate The date that determines the now date in the value\r\n * @return {number} Returns a percentage for the current value of the pillar\r\n */\r\nexport const getCurrentPillarValue = (\r\n  pillar,\r\n  interval,\r\n  duration,\r\n  nowDate = now(),\r\n) => {\r\n  const intervalStart = getIntervalStart(interval, duration, nowDate);\r\n  let summedValues = 0;\r\n  // TODO Get rid of this once done testing\r\n  if (!pillar.submissions || pillar.submissions.length === 0) {\r\n    return 1.0;\r\n  }\r\n  for (let i = 0; i < pillar.submissions.length; i += 1) {\r\n    const submission = pillar.submissions[i];\r\n    if (parseISOString(submission.time_submitted) > intervalStart) {\r\n      // Add to the value\r\n      summedValues += submission.value;\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n  return summedValues / daysBetween(intervalStart, nowDate);\r\n};\r\n\r\n/**\r\n * TEST FUNCTION, creates a random pillars array.\r\n *\r\n * @param {number} numPillars The number of pillars in the array\r\n * @param {number} maxNumSubmissions The max number of submissions for each pillar\r\n * @return {[Pillar]} The random pillars\r\n * @private\r\n */\r\nexport const _randomPillars = (numPillars = 3, maxNumSubmissions = 10) => {\r\n  const pillars = [];\r\n  const potentialPillarNames = [\r\n    'Exercise',\r\n    'Diet',\r\n    'Love',\r\n    'Pillars',\r\n    'Work',\r\n    'Happiness',\r\n  ];\r\n  for (let i = 0; i < numPillars; i += 1) {\r\n    const name =\r\n      potentialPillarNames[\r\n        Math.floor(Math.random() * potentialPillarNames.length)\r\n      ];\r\n    const color = faker.commerce.color();\r\n    const pillar = {\r\n      name,\r\n      color,\r\n      submissions: [],\r\n    };\r\n    const maxSubmissionInterval = 3;\r\n    let numberOfDaysBefore = Math.floor(Math.random() * maxSubmissionInterval);\r\n    for (\r\n      let _ = 0;\r\n      _ < faker.random.number(maxNumSubmissions - 1) + 1;\r\n      _ += 1\r\n    ) {\r\n      // earliest to latest\r\n      pillar.submissions.push({\r\n        value: Math.random(),\r\n        time_submitted: convertToISOString(daysBefore(numberOfDaysBefore)),\r\n      });\r\n      numberOfDaysBefore +=\r\n        Math.floor(Math.random() * maxSubmissionInterval);\r\n    }\r\n    pillars.push(pillar);\r\n  }\r\n  return pillars;\r\n};\r\n","import {_randomPillars} from \"../logic/PillarHelper\";\r\nimport type PillarsUser from \"../types/PillarsUser\";\r\n\r\n/**\r\n * Local Storage usage for loading the user data from to the local machine. Stores data from different runs. Indefinite\r\n * data storage.\r\n */\r\nclass UserStorage {\r\n  // The key to access the information\r\n  static storageKey = 'user';\r\n\r\n  /**\r\n   * Retrieves a user object from storage.\r\n   *\r\n   * @return {PillarsUser | null} The user object retrieved from the storage or null if there was no user object found.\r\n   */\r\n  static loadUser() {\r\n    // const userJSON = localStorage.getItem(UserStorage.storageKey);\r\n    // return userJSON ? JSON.parse(userJSON) : null;\r\n    const userJSON: PillarsUser = {\r\n      pillars: _randomPillars(5),\r\n    };\r\n    return userJSON;\r\n  }\r\n\r\n  /**\r\n   * Saves a user object into storage.\r\n   *\r\n   * @param {PillarsUser} user The user object to save into the storage.\r\n   * @return{void}\r\n   */\r\n  static saveUser(user) {\r\n    // localStorage.setItem(UserStorage.storageKey, JSON.stringify(user));\r\n  }\r\n}\r\n\r\nexport default UserStorage;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport logger from 'redux-logger';\r\nimport user from './reducers/userReducer';\r\nimport flow from './reducers/flowReducer';\r\nimport asyncDispatch from './middleware/AsyncDispatchMiddleware';\r\nimport promisify from './middleware/PromisifyMiddleware';\r\nimport { reduxLog } from '../Constants';\r\n\r\nlet middleware;\r\nif (reduxLog) {\r\n  middleware = applyMiddleware(logger, thunk, asyncDispatch, promisify);\r\n} else {\r\n  middleware = applyMiddleware(thunk, asyncDispatch, promisify);\r\n}\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  combineReducers({\r\n    user,\r\n    flow,\r\n  }),\r\n  composeEnhancers(middleware),\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  LOAD_USER,\r\n  SAVE_USER,\r\n  ADD_PILLAR,\r\n  EDIT_PILLAR,\r\n  REMOVE_PILLAR, ADD_SUBMISSION, REMOVE_SUBMISSION,\r\n} from '../typeConstants';\r\nimport UserStorage from '../../api/UserStorage';\r\nimport { newUser } from '../../logic/PillarsUserHelper';\r\n\r\n// For all the actions regarding the actual user using the app. (Will be used to access cloud storage of the User's\r\n// progress and whatnot). May use API calls to retrieve info.\r\n\r\nexport const updateUser = (successHandler) => {\r\n  return (dispatch, getStore) => {\r\n    let user = UserStorage.loadUser();\r\n    if (!user) {\r\n      alert('Generating new user!');\r\n      user = newUser();\r\n      UserStorage.saveUser(user);\r\n\r\n      // TODO Start up flow state!\r\n    }\r\n    dispatch(loadUser(user));\r\n    successHandler && successHandler();\r\n  };\r\n};\r\n\r\n// Save\r\n/**\r\n *\r\n * @returns {Function}\r\n */\r\nexport const saveUserToStorage = () => {\r\n  return (dispatch, getStore) => {\r\n    UserStorage.saveUser(getStore().user.user);\r\n    dispatch(saveUser());\r\n  };\r\n};\r\n\r\n// Load\r\n\r\n// Edit (in different ways)\r\n\r\n// =============================\r\n// == Low Level Redux Actions ==\r\n// =============================\r\n\r\n/**\r\n * Loads a User from storage into the app.\r\n *\r\n * @param user\r\n * @returns {{payload: {user: *}, type: *}}\r\n */\r\nconst loadUser = (user) => ({\r\n  type: LOAD_USER,\r\n  payload: {\r\n    user,\r\n  },\r\n});\r\n\r\nconst saveUser = () => ({\r\n  type: SAVE_USER,\r\n});\r\n\r\nexport const addPillar = (pillar, index = 0) => ({\r\n  type: ADD_PILLAR,\r\n  payload: {\r\n    index,\r\n    pillar,\r\n  },\r\n});\r\n\r\nconst editPillar = (index, pillar) => ({\r\n  type: EDIT_PILLAR,\r\n  payload: {\r\n    index,\r\n    pillar,\r\n  },\r\n});\r\n\r\nconst removePillar = (index) => ({\r\n  type: REMOVE_PILLAR,\r\n  payload: {\r\n    index,\r\n  },\r\n});\r\n\r\nexport const addSubmission = (index, submission) => ({\r\n  type: ADD_SUBMISSION,\r\n  payload: {\r\n    index,\r\n    submission,\r\n  },\r\n});\r\n\r\nexport const removeSubmission = (index) => ({\r\n  type: REMOVE_SUBMISSION,\r\n  payload: {\r\n    index,\r\n  },\r\n});\r\n","// UserReducer Type Constants ---------------------------------------------------------\r\nexport const LOAD_USER = 'LOAD_USER';\r\nexport const SAVE_USER = 'SAVE_USER';\r\nexport const ADD_PILLAR = 'ADD_PILLAR';\r\nexport const EDIT_PILLAR = 'EDIT_PILLAR';\r\nexport const REMOVE_PILLAR = 'REMOVE_PILLAR';\r\nexport const ADD_SUBMISSION = 'ADD_SUBMISSION';\r\nexport const REMOVE_SUBMISSION = 'REMOVE_SUBMISSION';\r\n\r\n// FlowReducer Type Constants\r\nexport const SET_CHECKING = 'SET_CHECKING';\r\n","import type PillarsUser from '../../types/PillarsUser';\r\nimport { err } from '../../Constants';\r\nimport {\r\n  LOAD_USER,\r\n  SAVE_USER,\r\n  ADD_PILLAR,\r\n  EDIT_PILLAR,\r\n  REMOVE_PILLAR,\r\n  ADD_SUBMISSION,\r\n  REMOVE_SUBMISSION,\r\n} from '../typeConstants';\r\nimport { saveUserToStorage } from '../actions/userActions';\r\n\r\n/**\r\n * The type definition for the User redux reducer.\r\n */\r\nexport type UserReducer = {\r\n  user: PillarsUser,\r\n  unsavedChanges: boolean,\r\n};\r\n\r\n/**\r\n * The Initial State for the User Reducer\r\n *\r\n * @type {UserReducer}\r\n */\r\nconst initialState = {\r\n  user: null,\r\n  unsavedChanges: false,\r\n};\r\n\r\n/**\r\n * Deeply copies the User Reducer state. TODO\r\n *\r\n * @param {UserReducer} state The previous state to copy.\r\n * @return {UserReducer} state The copied state.\r\n */\r\nconst copyState = (state) => {\r\n  return { ...state };\r\n};\r\n\r\n/**\r\n * User Reducer:\r\n *\r\n * This reducer handles all the user level states of the app. This includes personal info and history.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {{type: string, payload: *, asyncDispatch: function}} action The action to specify how to update the reducer.\r\n * @return {UserReducer} The next state for the reducer.\r\n */\r\nexport default (state: UserReducer = initialState, action) => {\r\n  switch (action.type) {\r\n    case LOAD_USER:\r\n      state = loadUser(state, action.payload.user);\r\n      break;\r\n    case SAVE_USER:\r\n      state = saveUser(state);\r\n      break;\r\n    case ADD_PILLAR:\r\n      state = addPillar(state, action.payload.index, action.payload.pillar);\r\n      action.asyncDispatch(saveUserToStorage());\r\n      break;\r\n    case EDIT_PILLAR:\r\n      state = editPillar(state, action.payload.index, action.payload.pillar);\r\n      action.asyncDispatch(saveUserToStorage());\r\n      break;\r\n    case REMOVE_PILLAR:\r\n      state = removePillar(state, action.payload.index);\r\n      action.asyncDispatch(saveUserToStorage());\r\n      break;\r\n    case ADD_SUBMISSION:\r\n      state = addSubmission(\r\n        state,\r\n        action.payload.index,\r\n        action.payload.submission,\r\n      );\r\n      action.asyncDispatch(saveUserToStorage());\r\n      break;\r\n    case REMOVE_SUBMISSION:\r\n      state = removeSubmission(state, action.payload.index);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return state;\r\n};\r\n\r\n/**\r\n * Loads the User into the reducer. Doesn't throw an error if has unsaved changes, but puts an error statement.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {PillarsUser} user The user to load into the reducer.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst loadUser = (state, user) => {\r\n  state = copyState(state);\r\n  if (state.unsavedChanges) {\r\n    err && console.error('OVERWRITING UNSAVED CHANGES!?!?!?!');\r\n  }\r\n  state.user = user;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Indicates that the user has been saved and\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst saveUser = (state) => {\r\n  state = copyState(state);\r\n  state.unsavedChanges = false;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Adds a new pillar to an index for the user.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {number} index The index to make for the new pillar, pushing the current index up one.\r\n * @param {Pillar} pillar The pillar to add to the user.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst addPillar = (state, index, pillar) => {\r\n  state = copyState(state);\r\n  if (index > state.user.pillars.length) {\r\n    throw new Error('Attempting to add a pillar to an invalid index!');\r\n  }\r\n  // Add the pillar into the pillars array\r\n  state.user.pillars.splice(index, 0, pillar);\r\n  state.unsavedChanges = true;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Sets a pillar at a certain index for the user.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {number} index The index of the pillars list to edit for the user.\r\n * @param {Pillar} pillar The pillar object to set for the user.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst editPillar = (state, index, pillar) => {\r\n  state = copyState(state);\r\n  if (index >= state.user.pillars.length) {\r\n    throw new Error('Attempting to edit a non-existant pillar!');\r\n  }\r\n  state.user.pillars[index] = pillar;\r\n  state.unsavedChanges = true;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Removes a pillar from the user's pillars list.\r\n *\r\n * @param {UserReducer} state The current state of the user reducer.\r\n * @param {number} index The index of the pillars list to remove from the user.\r\n * @return {UserReducer} The changed state of the user reducer.\r\n */\r\nconst removePillar = (state, index) => {\r\n  state = copyState(state);\r\n  if (index >= state.user.pillars.length) {\r\n    throw new Error('Attempting to remove a non-existant pillar!');\r\n  }\r\n  state.user.pillars.splice(index, 1);\r\n  state.unsavedChanges = true;\r\n  return state;\r\n};\r\n\r\n/**\r\n * Adds a submission to one of the User's pillars.\r\n *\r\n * @param {UserReducer} state The initial state for the user.\r\n * @param {number} pillarIndex The index for the pillar to add the submission for.\r\n * @param {PillarSubmission} submission The submission to add for the user.\r\n * @returns {UserReducer} The updated user state.\r\n */\r\nconst addSubmission = (state, pillarIndex, submission) => {\r\n  const pillars = [...state.user.pillars];\r\n  if (pillars.length < pillarIndex) {\r\n    throw new Error(\r\n      'Pillar Index not in bounds of pillars array for adding submission!',\r\n    );\r\n  }\r\n  pillars[pillarIndex].submissions = [\r\n    submission,\r\n    ...pillars[pillarIndex].submissions,\r\n  ];\r\n  return {\r\n    ...state,\r\n    user: {\r\n      ...state.user,\r\n      pillars,\r\n    },\r\n  };\r\n};\r\n\r\n/**\r\n * Removes the latest submission from one of the user's pillars.\r\n *\r\n * @param {UserReducer} state The initial state for the user.\r\n * @param {number} pillarIndex The index for the pillar to remove the submission for.\r\n * @returns {UserReducer} The updated user state.\r\n */\r\nconst removeSubmission = (state, pillarIndex) => {\r\n  const pillars = [...state.user.pillars];\r\n  if (pillars.length < pillarIndex) {\r\n    throw new Error(\r\n      'Pillar Index not in bounds of pillars array for removing submission!',\r\n    );\r\n  }\r\n  pillars[pillarIndex].submissions = [...pillars[pillarIndex].submissions];\r\n  pillars[pillarIndex].submissions.pop();\r\n  return {\r\n    ...state,\r\n    user: {\r\n      ...state.user,\r\n      pillars,\r\n    },\r\n  };\r\n};\r\n","import { SET_CHECKING } from \"../typeConstants\";\n\n/**\n *\n */\nexport type FlowReducer = {\n  /** Whether the user is submitting submissions for the pillars. */\n  isChecking: boolean,\n};\n\n/**\n * The initial state for the flow reducer.\n *\n * @type {FlowReducer}\n */\nconst initialState: FlowReducer = {\n  isChecking: false,\n};\n\n/**\n * Copies the state for the Flow Reducer.\n *\n * @param {FlowReducer} state The current state of the flow reducer.\n * @return {FlowReducer} The copied state.\n */\nconst copyState = (state) => {\n  return { ...state };\n};\n\n/**\n * TODO\n * @param state\n * @param action\n * @returns {FlowReducer}\n */\nexport default (state: FlowReducer = initialState, action) => {\n  switch (action.type) {\n    case SET_CHECKING:\n      state = copyState(state);\n      state.isChecking = action.payload.isChecking;\n      break;\n    default:\n      break;\n  }\n  return state;\n};\n","// This is from https://lazamar.github.io/dispatching-from-inside-of-reducers/\r\n// We are using this in order to schedule a dispatch from within a reducer!\r\nexport default store => next => action => {\r\n  let syncActivityFinished = false;\r\n  let actionQueue = [];\r\n\r\n  function flushQueue() {\r\n    actionQueue.forEach(a => store.dispatch(a)); // flush queue\r\n    actionQueue = [];\r\n  }\r\n\r\n  function asyncDispatch(asyncAction) {\r\n    actionQueue = actionQueue.concat([asyncAction]);\r\n\r\n    if (syncActivityFinished) {\r\n      flushQueue();\r\n    }\r\n  }\r\n\r\n  const actionWithAsyncDispatch = Object.assign({}, action, {asyncDispatch});\r\n\r\n  next(actionWithAsyncDispatch);\r\n  syncActivityFinished = true;\r\n  flushQueue();\r\n};","export default () => (next) => (action) => {\r\n  return new Promise((resolve) => resolve(next(action)));\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Button, Checkbox, Grid, Modal } from 'semantic-ui-react';\r\nimport type Pillar from '../types/Pillar';\r\nimport { now } from '../logic/TimeHelper';\r\nimport {\r\n  getCurrentPillarValue,\r\n  isSubmitted,\r\n  newSubmission,\r\n} from '../logic/PillarHelper';\r\nimport type PillarSubmission from '../types/PillarSubmission';\r\n\r\ntype Props = {\r\n  pillar: Pillar,\r\n  intervalView: string,\r\n  editing: boolean,\r\n  addSubmissionRedux: (PillarSubmission) => void,\r\n  removeSubmissionRedux: () => void,\r\n};\r\n\r\n/**\r\n * \r\n * @param checked\r\n * @param {Function} addSubmissionRedux\r\n * @param setChecked\r\n * @param setConfirmUndoModalOpen\r\n */\r\nconst handlePillarCheck = (checked, addSubmissionRedux, setChecked, setConfirmUndoModalOpen) => {\r\n  if (!checked) {\r\n    // Handle if there is an intense pillar\r\n    addSubmissionRedux(newSubmission(1.0));\r\n    setChecked(true);\r\n  } else {\r\n    // Then always make sure they know\r\n    setConfirmUndoModalOpen(true);\r\n  }\r\n};\r\n\r\n/**\r\n * \r\n * @param removeSubmissionRedux\r\n * @param setChecked\r\n * @param setConfirmModalOpen\r\n */\r\nconst handlePillarUncheckConfirm = (\r\n  removeSubmissionRedux,\r\n  setChecked,\r\n  setConfirmModalOpen,\r\n) => {\r\n  removeSubmissionRedux();\r\n  setChecked(false);\r\n  setConfirmModalOpen(false);\r\n};\r\n\r\n/**\r\n * The view that displays the specific pillar information for a single pillar\r\n *\r\n * @param {Pillar} pillar The pillar to show information for\r\n * @param {string} intervalView The type of interval\r\n * @param {boolean} editing Whether the pillar is able to be checked right now.\r\n * @return {*} The jsx for displaying the component\r\n * @constructor\r\n */\r\nconst PillarView = ({\r\n  pillar,\r\n  intervalView,\r\n  editing,\r\n  addSubmissionRedux,\r\n  removeSubmissionRedux,\r\n}: Props) => {\r\n  const [checked, setChecked] = useState(false);\r\n  const [value, setValue] = useState(0);\r\n  const [confirmUndoModalOpen, setConfirmUndoModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setChecked(isSubmitted(pillar, now()));\r\n    setValue(getCurrentPillarValue(pillar, intervalView, 1));\r\n  }, [pillar.submissions, intervalView, checked]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        height: `${value * 75}vh`,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        backgroundColor: pillar.color,\r\n        position: 'relative',\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          width: '100%',\r\n          bottom: 2,\r\n        }}\r\n      >\r\n        <Grid stretched rows=\"equal\" textAlign=\"center\" verticalAlign=\"bottom\">\r\n          <Grid.Row>\r\n            {value}\r\n            {'\\n'}\r\n            {pillar.name}\r\n          </Grid.Row>\r\n          <Grid.Row>\r\n            {editing && (\r\n              <Checkbox\r\n                toggle\r\n                checked={checked}\r\n                onChange={() =>\r\n                  handlePillarCheck(\r\n                    checked,\r\n                    addSubmissionRedux,\r\n                    setChecked,\r\n                    setConfirmUndoModalOpen,\r\n                  )\r\n                }\r\n              />\r\n            )}\r\n            <Modal\r\n              open={confirmUndoModalOpen}\r\n              onClose={() => setConfirmUndoModalOpen(false)}\r\n              closeIcon\r\n            >\r\n              <Modal.Header>\r\n                {'Are you sure you want to uncheck this pillar?'}\r\n              </Modal.Header>\r\n              <Modal.Actions>\r\n                <Button\r\n                  primary\r\n                  onClick={() =>\r\n                    handlePillarUncheckConfirm(\r\n                      removeSubmissionRedux,\r\n                      setChecked,\r\n                      setConfirmUndoModalOpen,\r\n                    )\r\n                  }\r\n                >\r\n                  {'Uncheck'}\r\n                </Button>\r\n              </Modal.Actions>\r\n            </Modal>\r\n          </Grid.Row>\r\n        </Grid>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PillarView;\r\n","import React from 'react';\r\nimport { Grid, Message } from 'semantic-ui-react';\r\nimport _ from 'lodash';\r\nimport type Pillar from '../types/Pillar';\r\nimport PillarView from './PillarView';\r\nimport type PillarSubmission from '../types/PillarSubmission';\r\n\r\ntype Props = {\r\n  pillars: [Pillar],\r\n  intervalView: string,\r\n  editing: boolean,\r\n  addSubmissionRedux: (number, PillarSubmission) => void,\r\n  removeSubmissionRedux: (number) => void,\r\n};\r\n\r\n/**\r\n * The view for displaying all of the pillars.\r\n *\r\n * @param {[Pillar]} pillars The pillar objects to display\r\n * @param {string} intervalView The type of interval type for the values\r\n * @param {boolean} editing Whether the pillars are currently being edited or not.\r\n * @param {Function} addSubmissionRedux Redux function for adding submission.\r\n * @param {Function} removeSubmissionRedux Redux function for removing submission.\r\n * @return {*} The jsx for the component\r\n * @constructor\r\n */\r\nconst AllPillarsView = ({\r\n  pillars,\r\n  intervalView,\r\n  editing,\r\n  addSubmissionRedux,\r\n  removeSubmissionRedux,\r\n}: Props) => {\r\n  return (\r\n    <Grid\r\n      columns={pillars.length}\r\n      style={{\r\n        height: '80vh',\r\n      }}\r\n    >\r\n      {pillars.length > 0 ? (\r\n        _.times(pillars.length, (i) => (\r\n          <Grid.Column key={i} verticalAlign=\"bottom\">\r\n            <PillarView\r\n              pillar={pillars[i]}\r\n              intervalView={intervalView}\r\n              editing={editing}\r\n              addSubmissionRedux={(s) => addSubmissionRedux(i, s)}\r\n              removeSubmissionRedux={() => removeSubmissionRedux(i)}\r\n            />\r\n          </Grid.Column>\r\n        ))\r\n      ) : (\r\n        <Message> No Pillars Yet! </Message>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default AllPillarsView;\r\n","import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  Message,\r\n  Container,\r\n  Button,\r\n  Grid,\r\n  Header,\r\n  Form,\r\n} from 'semantic-ui-react';\r\nimport { SketchPicker } from 'react-color';\r\nimport { addPillar } from '../redux/actions/userActions';\r\nimport { newPillar } from '../logic/PillarHelper';\r\n\r\ntype Props = {\r\n  // Redux\r\n  addPillarRedux: Function,\r\n};\r\n\r\n/**\r\n * Creates a pillar and adds it to the redux and component state.\r\n *\r\n * @param {string} name The name of pillar to the make.\r\n * @param {string} color The color of the pillar to create.\r\n * @param {Function} addPillarRedux The redux function to add a pillar to the user.\r\n * @param {Function} setSuccess Sets the success state\r\n * @param {Function} setIsLoading Sets the is loading state\r\n * @param {Function} setError Sets the error state\r\n * @returns {void}\r\n */\r\nconst createPillar = (\r\n  name,\r\n  color,\r\n  addPillarRedux,\r\n  setSuccess,\r\n  setIsLoading,\r\n  setError,\r\n) => {\r\n  setIsLoading(true);\r\n  setTimeout(() => {\r\n    if (name && color) {\r\n      const pillar = newPillar(name, color);\r\n      addPillarRedux(pillar);\r\n      setSuccess(true);\r\n    } else {\r\n      setSuccess(false);\r\n      setError(new Error(''));\r\n    }\r\n    setIsLoading(false);\r\n  }, 2000);\r\n};\r\n\r\n/**\r\n * Shows a success label based on the given info.\r\n *\r\n * @param {boolean} show Whether the User has successfully created a Challenge or not.\r\n * @return {*} The React JSX to display the success label or null if not applicable.\r\n */\r\nexport const createSuccessLabel = (show) => {\r\n  if (show) {\r\n    return (\r\n      <Message positive>\r\n        <Message.Header>Success!</Message.Header>\r\n        <p>You just created a new Challenge!</p>\r\n      </Message>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n/**\r\n * Displays an error message if applicable.\r\n *\r\n * @param {Error} error The error message string.\r\n * @return {*} The React JSX to show the error message.\r\n */\r\nexport const displayError = (error) => {\r\n  if (error) {\r\n    return (\r\n      <Message negative>\r\n        <Message.Header>Sorry!</Message.Header>\r\n        <p>{error.message}</p>\r\n      </Message>\r\n    );\r\n  }\r\n  return null;\r\n};\r\n\r\n/**\r\n * The view in charge of creating a new pillar for User.\r\n *\r\n * @param {PillarsUser} user The redux user currently using the app\r\n * @param {Function} addPillarRedux The redux function responsible for adding a new pillar\r\n * @return {*} The jsx to display the component\r\n * @constructor\r\n */\r\nconst PillarCreator = ({ addPillarRedux }: Props) => {\r\n  const [name, setName] = useState(null);\r\n  const [color, setColor] = useState('#fff');\r\n  const [success, setSuccess] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  return (\r\n    <div align=\"center\">\r\n      <Form\r\n        onSubmit={() =>\r\n          createPillar(\r\n            name,\r\n            color,\r\n            addPillarRedux,\r\n            setSuccess,\r\n            setIsLoading,\r\n            setError,\r\n          )\r\n        }\r\n      >\r\n        <Header as=\"h3\">\r\n          <Form.Input\r\n            fluid\r\n            type=\"text\"\r\n            name=\"name\"\r\n            placeholder=\"Name of the Pillar\"\r\n            onChange={(value) => setName(value.target.value)}\r\n          />\r\n        </Header>\r\n        <div align=\"center\">\r\n          <Container align=\"center\">\r\n            <Grid centered>\r\n              <Grid.Row centered>\r\n                <Grid.Column>\r\n                  <div className=\"field\">\r\n                    <text>Choose the color for the pillar</text>\r\n                    <SketchPicker\r\n                      color={color}\r\n                      onChangeComplete={(c) => setColor(c.hex)}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    {displayError(error)}\r\n                    {createSuccessLabel(success)}\r\n                  </div>\r\n                </Grid.Column>\r\n              </Grid.Row>\r\n            </Grid>\r\n          </Container>\r\n        </div>\r\n        <div>\r\n          <Button\r\n            loading={isLoading}\r\n            disabled={isLoading}\r\n            primary\r\n            size=\"big\"\r\n            type=\"button\"\r\n            onClick={() =>\r\n              createPillar(\r\n                name,\r\n                color,\r\n                addPillarRedux,\r\n                setSuccess,\r\n                setIsLoading,\r\n                setError,\r\n              )\r\n            }\r\n          >\r\n            {'Submit'}\r\n          </Button>\r\n        </div>\r\n        {createSuccessLabel(success)}\r\n      </Form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  (dispatch) => {\r\n    return {\r\n      addPillarRedux: (pillar, index) => {\r\n        dispatch(addPillar(pillar, index));\r\n      },\r\n    };\r\n  },\r\n)(PillarCreator);\r\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { Grid, Button, Container, Modal } from 'semantic-ui-react';\nimport PillarCreator from '../components/PillarCreator';\nimport type { FlowReducer } from '../redux/reducers/flowReducer';\nimport { setIsChecking } from '../redux/actions/flowActions';\n\ntype Props = {\n  flow: FlowReducer,\n  setIsCheckingRedux: Function,\n};\n\n/**\n * The view for the header of the pillars main view, which shows the actions to take.\n *\n * @returns {*} The jsx to display the component\n * @constructor\n */\nconst PillarsHeaderView = ({ flow, setIsCheckingRedux }: Props) => {\n  return (\n    <Container fluid>\n      <Grid columns=\"equal\">\n        <Grid.Column>\n          <Modal\n            closeIcon\n            trigger={\n              <Button icon=\"money\" primary>\n                Create New Pillar\n              </Button>\n            }\n          >\n            <PillarCreator />\n          </Modal>\n        </Grid.Column>\n        <Grid.Column>\n          <Button\n            primary={!flow.isChecking}\n            icon=\"check circle\"\n            onClick={() => setIsCheckingRedux(!flow.isChecking)}\n          />\n        </Grid.Column>\n      </Grid>\n    </Container>\n  );\n};\n\nexport default connect(\n  (state) => ({\n    flow: state.flow,\n  }),\n  (dispatch) => {\n    return {\n      setIsCheckingRedux: (isChecking) => {\n        dispatch(setIsChecking(isChecking));\n      },\n    };\n  },\n)(PillarsHeaderView);\n","import { SET_CHECKING } from '../typeConstants';\n\n/**\n * Redux action for setting the flow isChecking.\n *\n * @param {boolean} isChecking Whether the app will be checking for submissions.\n * @returns {{payload: {isChecking: *}, type: *}} The redux action information.\n */\nexport const setIsChecking = (isChecking) => ({\n  type: SET_CHECKING,\n  payload: {\n    isChecking,\n  },\n});\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Container, Menu } from 'semantic-ui-react';\r\nimport AllPillarsView from '../components/AllPillarsView';\r\nimport PillarsHeaderView from './PillarsHeaderView';\r\n// import { _randomPillars } from '../logic/PillarHelper';\r\nimport type { FlowReducer } from '../redux/reducers/flowReducer';\r\nimport type { UserReducer } from '../redux/reducers/userReducer';\r\nimport { addSubmission, removeSubmission } from '../redux/actions/userActions';\r\nimport type PillarSubmission from '../types/PillarSubmission';\r\n\r\n// const testPillars = _randomPillars(5);\r\n\r\ntype Props = {\r\n  user: UserReducer,\r\n  flow: FlowReducer,\r\n  addSubmissionRedux: (number, PillarSubmission) => void,\r\n  removeSubmissionRedux: (number) => void,\r\n};\r\n\r\n/**\r\n * The view for the main part of the app where you can view your pillars and edit them.\r\n *\r\n * @return {*} The jsx for the view\r\n * @constructor\r\n */\r\nconst MainView = ({\r\n  user,\r\n  flow,\r\n  addSubmissionRedux,\r\n  removeSubmissionRedux,\r\n}: Props) => {\r\n  return (\r\n    <div>\r\n      <Menu\r\n        fluid\r\n        vertical\r\n        widths={1}\r\n        style={{\r\n          height: '91vh',\r\n          background: 'rgba(256, 256, 256, 0.3)',\r\n          marginTop: '20px',\r\n        }}\r\n      >\r\n        <Menu.Item>\r\n          <PillarsHeaderView />\r\n        </Menu.Item>\r\n        <Menu.Item style={{ background: 'rgba(256, 256, 256, 0.5)' }}>\r\n          <Container fluid>\r\n            {/*<AllPillarsView pillars={testPillars} intervalView=\"week\" />*/}\r\n            <AllPillarsView\r\n              pillars={user.user.pillars}\r\n              intervalView=\"week\"\r\n              editing={flow.isChecking}\r\n              addSubmissionRedux={addSubmissionRedux}\r\n              removeSubmissionRedux={removeSubmissionRedux}\r\n            />\r\n          </Container>\r\n        </Menu.Item>\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default connect(\r\n  (state) => ({\r\n    user: state.user,\r\n    flow: state.flow,\r\n  }),\r\n  (dispatch) => ({\r\n    addSubmissionRedux: (index, submission) => {\r\n      dispatch(addSubmission(index, submission));\r\n    },\r\n    removeSubmissionRedux: (index) => {\r\n      dispatch(removeSubmission(index));\r\n    },\r\n  }),\r\n)(MainView);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Segment, Image, Header, Grid } from 'semantic-ui-react';\r\nimport { connect } from 'react-redux';\r\nimport { updateUser } from '../redux/actions/userActions';\r\nimport Logo from '../img/pillars.png';\r\n\r\n/**\r\n * The view for showing the loading splash screen of the app.\r\n *\r\n * @return {*} The jsx for displaying the component\r\n */\r\nconst loadingScreen = () => (\r\n  <Grid verticalAlign=\"middle\" centered textAlign=\"center\">\r\n    <Grid.Row>\r\n      <Segment\r\n        raised\r\n        padded\r\n        inverted\r\n        style={{\r\n          minWidth: 340,\r\n          maxWidth: 800,\r\n          marginBottom: '-60px',\r\n          marginTop: '120px',\r\n        }}\r\n      >\r\n        <Segment basic>\r\n          <Image src={Logo} size=\"tiny\" centered />\r\n          <Header as=\"h2\" inverted textAlign=\"center\">\r\n            {'Loading...'}\r\n          </Header>\r\n        </Segment>\r\n      </Segment>\r\n    </Grid.Row>\r\n  </Grid>\r\n);\r\n\r\n/**\r\n * The controlled view for showing the app given if the add is loading.\r\n *\r\n * @param {[*]} children The children of the component to render if not loading\r\n * @param {Function} updateUserRedux The function in charge of updating the user from storage\r\n * @return {*} The jsx for displaying the component\r\n * @constructor\r\n */\r\nconst SplashScreen = ({ children, updateUserRedux }) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    updateUserRedux(() => {\r\n      setIsLoading(false);\r\n    });\r\n  });\r\n\r\n  return isLoading ? loadingScreen() : children;\r\n};\r\n\r\nexport default connect(\r\n  () => ({}),\r\n  {\r\n    updateUserRedux: (successHandler) => updateUser(successHandler),\r\n  },\r\n)(SplashScreen);\r\n","/**\r\n * Creates a new user to start from scratch.\r\n *\r\n * @return {PillarsUser}\r\n */\r\nexport const newUser = () => ({\r\n  pillars: []\r\n});","import React from 'react';\nimport MainView from './layout/MainView';\nimport SplashScreen from './layout/SplashScreen';\n\n/**\n * The view for the entire app.\n *\n * @returns {*} The jsx to display the component\n * @constructor\n */\nconst App = () => (\n  <SplashScreen>\n    <MainView />\n  </SplashScreen>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './semantic/semantic-dark-theme/dist/semantic.min.css';\nimport { BreakpointProvider } from 'react-socks';\nimport { Provider } from 'react-redux';\nimport store from './redux/store';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <BreakpointProvider>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </BreakpointProvider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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tK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuyROtKwzNyLC6Eo0eUsCVLtK40PCPH4kI4ekQJW7JE60rDM3IsLoSjR5SwJUu0rjQ8I8fiQjh6RAlbskTrSsMzciwuhKNHlLAlS7SuNDwjx+JCOHpECVuir3Ms/nw4ekQJW6Kvcyz+fDh6RAlboq9zLP58OFq6zbH48+Fo6bZvjoWk/znHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSE8dC0hPHQtITx0LSg7/++i8YV7I81CL15AAAAABJRU5ErkJggg==\""],"sourceRoot":""}